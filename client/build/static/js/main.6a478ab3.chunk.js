(this.webpackJsonpmern=this.webpackJsonpmern||[]).push([[0],{115:function(e,a,t){e.exports=t(215)},121:function(e,a,t){},122:function(e,a,t){},123:function(e,a,t){},129:function(e,a,t){},130:function(e,a,t){},150:function(e,a,t){},151:function(e,a,t){},155:function(e,a,t){},214:function(e,a,t){},215:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),l=t(18),c=t.n(l),o=(t(120),t(121),t(20)),s=t(11);t(122);var i=function(){return r.a.createElement("div",{id:"carouselExampleIndicators",className:"carousel slide","data-ride":"carousel"},r.a.createElement("ol",{className:"carousel-indicators"},r.a.createElement("li",{"data-target":"#carouselExampleIndicators","data-slide-to":"0",className:"active"}),r.a.createElement("li",{"data-target":"#carouselExampleIndicators","data-slide-to":"1"}),r.a.createElement("li",{"data-target":"#carouselExampleIndicators","data-slide-to":"2"})),r.a.createElement("div",{className:"carousel-inner"},r.a.createElement("div",{className:"carousel-item active"},r.a.createElement("img",{src:"./Assets/header1.jpg",className:"d-block w-100",alt:"..."}),r.a.createElement("div",{className:"carousel-content"},r.a.createElement("h1",null," Weekend Getaway"))),r.a.createElement("div",{className:"carousel-item"},r.a.createElement("img",{src:"./Assets/header2.jpg",className:"d-block w-100",alt:"..."}),r.a.createElement("div",{className:"carousel-content"},r.a.createElement("h1",null," Weekend Getaway"))),r.a.createElement("div",{className:"carousel-item"},r.a.createElement("img",{src:"./Assets/header3.jpg",className:"d-block w-100",alt:"..."}),r.a.createElement("div",{className:"carousel-content"},r.a.createElement("h1",null," Weekend Getaway")))),r.a.createElement("a",{className:"carousel-control-prev",href:"#carouselExampleIndicators",role:"button","data-slide":"prev"},r.a.createElement("span",{className:"carousel-control-prev-icon","aria-hidden":"true"}),r.a.createElement("span",{className:"sr-only"},"Previous")),r.a.createElement("a",{className:"carousel-control-next",href:"#carouselExampleIndicators",role:"button","data-slide":"next"},r.a.createElement("span",{className:"carousel-control-next-icon","aria-hidden":"true"}),r.a.createElement("span",{className:"sr-only"},"Next")))},m=t(228),u=t(227),d=(t(123),t(10)),p=t(61);t(124);console.log(p.a),console.log(p.a.auth);var E=p.a.initializeApp({apiKey:"AIzaSyB2s2DZFY2q4FMuLxkZE-Li_qq0EUbuDe4",authDomain:"weekend-getaway-2b4fe.firebaseapp.com",databaseURL:"https://weekend-getaway-2b4fe.firebaseio.com",projectId:"weekend-getaway-2b4fe",storageBucket:"weekend-getaway-2b4fe.appspot.com",messagingSenderId:"726363974806"}),h=p.a.auth(),v=E,f=r.a.createContext(),g=function(e){var a=e.children,t=Object(n.useState)(null),l=Object(d.a)(t,2),c=l[0],o=l[1],s=Object(n.useState)(!0),i=Object(d.a)(s,2),m=i[0],u=i[1];return Object(n.useEffect)((function(){v.auth().onAuthStateChanged((function(e){console.log(e),o(e),u(!1)}))}),[]),m?r.a.createElement(r.a.Fragment,null,"Loading..."):r.a.createElement(f.Provider,{value:{currentUser:c}},a)};var b=function(){var e=Object(n.useContext)(f).currentUser;return r.a.createElement("div",{className:"navigationContainer"},r.a.createElement(m.a,{collapseOnSelect:!0,expand:"lg",bg:"dark",variant:"dark"},r.a.createElement(m.a.Brand,{href:"/"},"Weekend Getaway"),r.a.createElement(m.a.Toggle,{"aria-controls":"responsive-navbar-nav"}),r.a.createElement(m.a.Collapse,{id:"responsive-navbar-nav"},r.a.createElement(u.a,{className:"mr-auto"}),r.a.createElement(u.a,null,r.a.createElement(u.a.Link,{href:"/"},"Home"),!e&&r.a.createElement(u.a.Link,{eventKey:2,href:"/login"}," Login "),!e&&r.a.createElement(u.a.Link,{href:"/signup"}," Signup "),e&&r.a.createElement(u.a.Link,{href:"/itinerary"}," Itinerary ")))))};t(129);var y=function(){return r.a.createElement("footer",{className:"footer"},r.a.createElement("section",null,"\xa9 Copyright 2020 Weekend Getaway"))},N=t(93),w=(t(130),t(40)),k=t(23),C=t.n(k),j=function(e){return C.a.get("/api/campsite/",{params:{search:e}})},O=function(e){return C.a.get("/api/hike/",{params:{search:e}})},x=function(e){return C.a.get("/api/location/",{params:{search:e}})},S=function(e){return C.a.get("/api/weather/",{params:{search:e}})},D=function(e){return C.a.get("/api/hotspring",{params:{search:e}})},I=function(e){return console.log("UID is called"),C.a.post("/api/history/"+e)},T=function(e){return C.a.post("/api/itinerary/",e)},L=function(e){return C.a.get("/api/itinerary/",{params:{user:e}})},F=function(e){return C.a.delete("/api/itinerary/"+e)},P=function(e){return C.a.get("/api/directions/",{params:{location:e}})},q=(t(101),t(76)),A={width:"400px",height:"400px"};var B=function(e){var a=r.a.useState(null),t=Object(d.a)(a,2),n=(t[0],t[1]),l={lat:e.location.lat,lng:e.location.lng},c=r.a.useCallback((function(e){n(e)}),[]),o=r.a.useCallback((function(e){n(null)}),[]);return r.a.createElement(q.b,{googleMapsApiKey:"AIzaSyCFTAYkWgyMfLtIB15x2XcdAoTC10QAfno"},r.a.createElement(q.a,{mapContainerStyle:A,center:l,zoom:8,onLoad:c,onUnmount:o},e.results.map((function(e,a){return r.a.createElement(q.c,{position:e,key:a})}))," ",r.a.createElement(r.a.Fragment,null)))};t(150);var G=function(e){return r.a.createElement("aside",null,e.children)};var H=function(e){var a=e.size.split(" ").map((function(e){return"col-"+e})).join(" ");return r.a.createElement("div",{className:a},e.children)};var M=function(e){return r.a.createElement("div",{className:"row"},e.children)};var U=function(e){return r.a.createElement("div",null,r.a.createElement("input",{type:"checkbox",id:e.name,onChange:e.handleCheckbox,name:e.name,checked:e.checked}),r.a.createElement("span",null),r.a.createElement("label",{htmlFor:e.name},"".concat(e.name.charAt(0).toUpperCase()).concat(e.name.slice(1,e.name.length))))},W=t(49),z=(t(151),t(225)),Y=t(224),_=t(38),R=t.n(_),K=t(50),J=t(226),Z=Object(s.g)((function(e){var a=e.history;console.log(a);var t=Object(n.useCallback)(function(){var e=Object(K.a)(R.a.mark((function e(t){var n,r,l;return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),n=t.target.elements,r=n.email,l=n.password,e.prev=2,e.next=5,v.auth().signInWithEmailAndPassword(r.value,l.value);case 5:a.push("/"),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(2),alert(e.t0);case 11:case"end":return e.stop()}}),e,null,[[2,8]])})));return function(a){return e.apply(this,arguments)}}(),[a]);if(Object(n.useContext)(f).currentUser){var l=v.auth().currentUser.uid;return I(l),alert("You are now logged in!"),r.a.createElement(s.a,{to:"/"})}return r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"row"},r.a.createElement("h1",{className:"col-12 text-center"}," Log in to Your Account ")),r.a.createElement("div",{className:"row"},r.a.createElement("span",{className:"col-2"}),r.a.createElement(J.a,{onSubmit:t,className:"col-8"},r.a.createElement(J.a.Group,{controlId:"formBasicEmail"},r.a.createElement(J.a.Label,null,"Email address"),r.a.createElement(J.a.Control,{name:"email",type:"email",placeholder:"Enter email"}),r.a.createElement(J.a.Text,{className:"text-muted"},"We'll never share your email with anyone else.")),r.a.createElement(J.a.Group,{controlId:"formBasicPassword"},r.a.createElement(J.a.Label,null,"Password"),r.a.createElement(J.a.Control,{name:"password",type:"password",placeholder:"Password"})),r.a.createElement(Y.a,{variant:"primary",className:"btn-outline-secondary",type:"submit"},"Submit")),r.a.createElement("span",{className:"col-2"})),r.a.createElement("div",{className:"row mt-2"},r.a.createElement("span",{className:"col-2"}),r.a.createElement("div",{className:"col-8"},r.a.createElement(o.b,{to:"/passwordReset"},r.a.createElement("p",null,"Forgot Password?"))),r.a.createElement("span",{className:"col-2"})))}));var Q=function(){var e=Object(n.useState)(!1),a=Object(d.a)(e,2),t=a[0],l=a[1],c=function(){return l(!1)};return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-11"}),r.a.createElement("div",{className:"col-1"},r.a.createElement("span",{className:"saveHeart",onClick:function(){return l(!0)}},r.a.createElement(w.a,{icon:"heart",size:"lg"})))),r.a.createElement(z.a,{show:t,onHide:c},r.a.createElement(z.a.Header,null,r.a.createElement(z.a.Title,null,"Login to Save Itinerary")),r.a.createElement(z.a.Body,null,r.a.createElement(Z,null),r.a.createElement("p",{className:"text-center"},"Don't have an account? Sign up ",r.a.createElement(o.b,{to:"/signup"},"here!"))),r.a.createElement(z.a.Footer,null,r.a.createElement(Y.a,{variant:"secondary",onClick:c},"Close"))))},X=t(17);var V=function(e){return r.a.createElement("div",{dangerouslySetInnerHTML:{__html:e.description}})};var $=function(e){return r.a.createElement("div",{dangerouslySetInnerHTML:{__html:e.fee}})};var ee=function(e){var a=Object(n.useContext)(f).currentUser;return r.a.createElement("div",null,e.data.map((function(t,n){var l=n+1;return r.a.createElement("div",null,r.a.createElement(M,null,r.a.createElement(H,{size:"md-6"},r.a.createElement(X.a,{key:l,className:"campsiteCard",style:{width:"30rem"}},r.a.createElement(X.a.Body,null,a?r.a.createElement("span",{onClick:function(){return e.handleFormSubmit(t.name,t.lat,t.lng,t.reservable,t.fee,t.phone,t.activity,t.description)},className:"saveBtn",title:"Save to Itinerary"},r.a.createElement(w.a,{icon:"heart",size:"lg"})):r.a.createElement(Q,null),r.a.createElement(X.a.Title,null," Campsite: ",t.name," "),r.a.createElement(X.a.Text,null,"Description: ",r.a.createElement(V,{description:t.description})),r.a.createElement(X.a.Text,null," Reservable: ",t.reservable," "),r.a.createElement(X.a.Text,null," ","Fee: ",r.a.createElement($,{description:t.fee})," "),r.a.createElement(X.a.Text,null," Phone Number: ",t.phone," "),r.a.createElement(X.a.Link,{href:"#"},"Campsite Link"))))))})))},ae=t(80);var te=function(e){return console.log(e),r.a.createElement("div",null,e.filter?r.a.createElement("section",{style:{width:"100%"}},r.a.createElement("h3",null,"Weather Forecast For: ",e.searched),e.weatherCondition.map((function(e,a){var t=a+1;return r.a.createElement(ae.a,{style:{display:"inline-block",marginTop:20,marginBottom:20,marginRight:10,width:"13rem"}},r.a.createElement(X.a,{key:t,className:"weatherCard"},r.a.createElement(X.a.Body,null,r.a.createElement(X.a.Text,null," Date: ",e.date," "),r.a.createElement(X.a.Text,null," Temp: ",e.temp," "),r.a.createElement(X.a.Text,null," Humidity: ",e.humidity," "),r.a.createElement(X.a.Text,null," Wind: ",e.wind," "),r.a.createElement(X.a.Text,null," Condition: ",e.weather," "))))}))):r.a.createElement("span",null," "))};var ne=function(e){var a=Object(n.useState)([]),t=Object(d.a)(a,2),l=(t[0],t[1],Object(n.useState)({hotsprings:!1,campsites:!1,weather:!1})),c=Object(d.a)(l,2),o=(c[0],c[1],Object(W.useIndexedDB)("activity").add);return r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"resultsContainer"},r.a.createElement("h3",null,"Campites for: ",e.searched),r.a.createElement(M,null,r.a.createElement(H,{size:"md-2"},r.a.createElement(U,{name:"hotsprings",checked:e.filter.hotsprings,handleCheckbox:function(a){e.handleCheckboxChange(a)}}),r.a.createElement(U,{name:"campsites",checked:e.filter.campsites,handleCheckbox:function(a){e.handleCheckboxChange(a)}}),r.a.createElement(U,{name:"weather",checked:e.filter.weather,handleCheckbox:function(a){e.handleCheckboxChange(a)}})),r.a.createElement(H,{size:"md-6"},r.a.createElement(ee,{data:e.results,handleFormSubmit:function(a,t,n,r,l,c,s,i){o({activity:s,user:e.userStatus.uid,name:a,lat:t,lon:n,description:i,fee:l,phone:c,city:e.searched,start:e.startDate,end:e.endDate}).then((function(e){console.log("ID Generated: ",e)}),(function(e){console.log(e)}))}})),r.a.createElement(H,{size:"md-4"},r.a.createElement(G,null,e.results.length>0?r.a.createElement(B,{results:e.results,location:e.location}):r.a.createElement("div",null)))),r.a.createElement(te,{filter:e.filter.weather,searched:e.searched,weatherCondition:e.weatherCondition}))))};var re=function(e){return r.a.createElement("form",{className:"input-group mb-3"},r.a.createElement("input",{type:"text",className:"form-control",name:"search",value:e.results,onChange:e.handleInputChange,placeholder:"Location","aria-label":"search by location"}),r.a.createElement("div",{className:"input-group-append"},r.a.createElement("button",{className:"btn btn-outline-secondary",type:"submit",onClick:e.handleFormSubmit}," ","Submit"," ")))};t(155);var le=function(){var e=Object(W.useIndexedDB)("activity"),a=e.getAll,t=e.clear;function n(){return(n=Object(K.a)(R.a.mark((function e(){var n;return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a();case 2:if(""!=(n=e.sent)){e.next=5;break}return e.abrupt("return",alert("Please Save A Campsite"));case 5:T(n).then((function(e){alert("Campsite has now been saved to your itinerary!")})).then(t()).catch((function(e){return console.log(e)}));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return r.a.createElement("span",{className:"saveButton btn btn-outline-secondary",role:"button",tabIndex:"0",onClick:function(){return n.apply(this,arguments)}},"Save Me")},ce=t(89),oe=t.n(ce);var se=function(e){var a=Object(n.useState)(new Date),t=Object(d.a)(a,2),l=t[0],c=t[1],o=Object(n.useState)(new Date),s=Object(d.a)(o,2),i=s[0],m=s[1],u=Object(n.useState)({start:"",end:""}),p=Object(d.a)(u,2),E=p[0],h=p[1];function v(e){c(e);var a=e.getMonth()+1+"/"+e.getDate()+"/"+e.getFullYear(e);return h({start:a}),a}function f(e){m(e);var a=e.getMonth()+1+"/"+e.getDate()+"/"+e.getFullYear(e);return h({start:E.start,end:a}),a}return r.a.createElement("div",{className:"row"},r.a.createElement("section",{className:"col-6"},r.a.createElement("span",null," Start Date: "),r.a.createElement(oe.a,{selected:l,onChange:function(a){a>=new Date?(v(a),e.handleStartDate(v(a))):alert("Please pick a date greater than day's date")},className:"startDate"})),r.a.createElement("section",{className:"col-6"},r.a.createElement("span",null," End Date: "),r.a.createElement(oe.a,{selected:i,onChange:function(a){a>=new Date?(f(a),e.handleEndDate(f(a))):alert("Please pick a date greater than day's date")},className:"startDate"})),r.a.createElement("div",{className:"row"},""!=E.start?r.a.createElement("h3",null,"Dates Selected: ",E.start," - ",E.end):""))};var ie=function(){return r.a.createElement("button",{className:"btn btn-outline-secondary",onClick:function(){v.auth().signOut().then((function(){window.location="/login",alert("You have logged out")})).catch((function(e){console.log(e)}))}},"Sign out")};var me=function(){var e={},a=Object(n.useState)(""),t=Object(d.a)(a,2),l=t[0],c=t[1],o=Object(n.useState)(""),s=Object(d.a)(o,2),i=s[0],m=s[1],u=Object(n.useState)(""),p=Object(d.a)(u,2),E=p[0],h=p[1],v=Object(n.useState)(""),g=Object(d.a)(v,2),b=g[0],y=g[1],w=Object(n.useState)([]),k=Object(d.a)(w,2),C=k[0],I=k[1],T=Object(n.useState)([]),L=Object(d.a)(T,2),F=(L[0],L[1]),P=Object(n.useState)([]),q=Object(d.a)(P,2),A=q[0],B=q[1],G=Object(n.useState)([]),H=Object(d.a)(G,2),M=H[0],U=H[1],W=Object(n.useState)({}),z=Object(d.a)(W,2),Y=z[0],_=z[1],R=Object(n.useState)({hotsprings:!1,campsites:!0,weather:!1,hiking:!1}),K=Object(d.a)(R,2),J=K[0],Z=K[1];function Q(){x(l).then((function(e){var a=e.data.location.city+", "+e.data.location.state,t=e.data.latLng;console.log("location:"+t),c(a),_(t)})).catch((function(e){return console.log(e)})),!0===J.campsites&&(!function(e){j(e).then((function(e){I(e.data)})).catch((function(e){return console.log(e)}))}(l),console.log("campsites in called")),!0===J.hotsprings&&(!function(e){D(e).then((function(e){console.log(e),F(e.data)})).catch((function(e){return console.log(e)}))}(l),console.log("Hotspring is called")),!0===J.weather&&(!function(e){S(e).then((function(e){console.log(e.data),B(e.data)})).catch((function(e){return console.log(e)}))}(l),console.log("Weather is called")),!0===J.hiking&&(!function(e){console.log(e),O(e).then((function(e){console.log(e.data),U(e.data)})).catch((function(e){return console.log(e)}))}(l),console.log("Hiking is called"))}var X=Object(n.useContext)(f).currentUser;return e.campsites=C,e.hiking=M,r.a.createElement("div",null,r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"row"},r.a.createElement("span",{className:"col-8"}," "),X?r.a.createElement("span",{className:"col-2"},r.a.createElement("p",null," You are logged in! ")):r.a.createElement("span",{className:"col-4"},r.a.createElement("p",null," Guest - Login to Save to your Itinerary ")),X&&r.a.createElement("div",{className:"col-2"},r.a.createElement(ie,null))),r.a.createElement("div",{className:"row"},r.a.createElement("section",{className:"col-12"},r.a.createElement("h3",null,"Search: "),r.a.createElement(re,{handleFormSubmit:function(e){e.preventDefault(),""===l?alert("Please enter a city"):Q(),console.log(C),m("")},handleInputChange:function(e){e.preventDefault(),c(e.target.value),m(e.target.value)},results:i}),r.a.createElement("hr",null))),r.a.createElement(se,{handleStartDate:function(e){h(e)},handleEndDate:function(e){y(e)}}),r.a.createElement(le,null),r.a.createElement("div",{className:"row"},r.a.createElement("section",{className:"col-12"},r.a.createElement(ne,{searched:l,results:C,userStatus:X,filter:J,handleCheckboxChange:function(e){var a=e.target,t=a.name,n=a.checked;console.log(t),console.log(n),Z(Object(N.a)(Object(N.a)({},J),{},{[t]:n})),console.log("from home page"),console.log(J)},value:l,weatherCondition:A,location:Y,startDate:E,endDate:b})))))},ue=Object(s.g)((function(e){var a=e.history,t=Object(n.useCallback)(function(){var e=Object(K.a)(R.a.mark((function e(t){var n,r,l;return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),n=t.target.elements,r=n.email,l=n.password,e.prev=2,e.next=5,v.auth().createUserWithEmailAndPassword(r.value,l.value);case 5:a.push("/"),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(2),alert(e.t0);case 11:case"end":return e.stop()}}),e,null,[[2,8]])})));return function(a){return e.apply(this,arguments)}}(),[a]);return r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"row"},r.a.createElement("h1",{className:"col-12 text-center"}," Create an Account ")),r.a.createElement("div",{className:"row"},r.a.createElement("span",{className:"col-2"}),r.a.createElement(J.a,{onSubmit:t,className:"col-8"},r.a.createElement(J.a.Group,{controlId:"formBasicEmail"},r.a.createElement(J.a.Label,null,"Email address"),r.a.createElement(J.a.Control,{name:"email",type:"email",placeholder:"Enter email"}),r.a.createElement(J.a.Text,{className:"text-muted"},"We'll never share your email with anyone else.")),r.a.createElement(J.a.Group,{controlId:"formBasicPassword"},r.a.createElement(J.a.Label,null,"Password"),r.a.createElement(J.a.Control,{name:"password",type:"password",placeholder:"Password"})),r.a.createElement(Y.a,{variant:"primary",type:"submit"},"Submit")),r.a.createElement("span",{className:"col-2"})))}));t(214);var de=function(e){return r.a.createElement("span",Object.assign({className:"delete-btn"},e,{role:"button",tabIndex:"0"}),"\u2717")};var pe=function(e){function a(e){var a=new Date(e);return a.getMonth()+1+"/"+a.getDate()+"/"+a.getFullYear(a)}var t=Object(n.useState)(!1),l=Object(d.a)(t,2),c=l[0],o=l[1],s=function(){return o(!1)};return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-12"},r.a.createElement("span",{onClick:function(){return o(!0)}},r.a.createElement("p",null,"See Full Itinerary")))),r.a.createElement(z.a,{show:c,onHide:s},r.a.createElement(z.a.Header,null,r.a.createElement(z.a.Title,null,"Full Itinerary")),r.a.createElement(z.a.Body,null,r.a.createElement("h2",null,"Campsite:"),"  ",r.a.createElement("p",null,e.trip.campsite),r.a.createElement("h2",null,"Dates: "),r.a.createElement("p",null," ",a(e.trip.startDate)," - ",a(e.trip.endDate)),r.a.createElement("h2",null,"Campsite Description: ")," ",r.a.createElement("p",{dangerouslySetInnerHTML:{__html:e.trip.campDescription}}),r.a.createElement("h2",null,"Campsite Fees:")," ",r.a.createElement("p",{dangerouslySetInnerHTML:{__html:e.trip.campFee}}),r.a.createElement("h2",null,"Campsite Phone:"),r.a.createElement("p",null," ",e.trip.campPhone),r.a.createElement("h2",null,"Activities: ")),r.a.createElement(z.a.Footer,null,r.a.createElement(Y.a,{variant:"secondary",onClick:s},"Close"))))};var Ee=function(){var e=Object(n.useState)([]),a=Object(d.a)(e,2),t=a[0],l=a[1],c=Object(n.useContext)(f).currentUser.uid;function s(e){L(e).then((function(e){return l(e.data)})).catch((function(e){return console.log(e)}))}function i(e){var a=new Date(e);return a.getMonth()+1+"/"+a.getDate()+"/"+a.getFullYear(a)}return Object(n.useEffect)((function(){s(c)}),[]),r.a.createElement("div",{className:"container"},r.a.createElement("h3",null," Saved Trips "),t.map((function(e,a){var t=a+1,n=e.campLat,l=e.campLon;return r.a.createElement("div",{className:"container",key:t},r.a.createElement(M,null,r.a.createElement("div",{className:"col-3"}," "),r.a.createElement(X.a,{className:"savedCampsites col-6 mt-3",style:{width:"30rem"}},r.a.createElement(X.a.Header,null,r.a.createElement(o.b,{to:{pathname:"/directions",coordinates:{lat:n,lon:l}},className:"btn directionsBtn",title:"Get Directions"},r.a.createElement(w.a,{icon:"directions"})),r.a.createElement(de,{onClick:function(){return function(e){F(e).then((function(e){return s(c)})).catch((function(e){return console.log(e)}))}(e._id)}}),r.a.createElement(X.a.Title,{className:"mt-3"}," Trip to ",e.campCity," ")),r.a.createElement(X.a.Body,null,r.a.createElement(X.a.Text,null,"Trip Dates: ",i(e.startDate)," -"," ",i(e.endDate)),r.a.createElement(X.a.Text,null,"Campsite: ",e.campsite)),r.a.createElement(Y.a,{variant:"secondary",className:"btn btn-sm justify-content-center mb-2"},r.a.createElement(pe,{trip:e}))),r.a.createElement("div",{className:"col-3"}," ")))})))};var he=function(e){var a=e.location,t=Object(n.useState)([]),l=Object(d.a)(t,2),c=l[0],o=l[1],s={campLat:a.coordinates.lat,campLon:a.coordinates.lon,userLat:parseFloat(i("lat")),userLon:parseFloat(i("lon"))};function i(e){var a="; ".concat(document.cookie).split("; ".concat(e,"="));if(2===a.length)return a.pop().split(";").shift()}return Object(n.useEffect)((function(){navigator.geolocation?navigator.geolocation.getCurrentPosition((function(e){var a=e.coords.latitude,t=e.coords.longitude;document.cookie="lat=".concat(a),document.cookie="lon=".concat(t)}),(function(){alert("Unable to retrieve your location")})):alert("Geolocation is not supported by your browser"),P(s).then((function(e){return o(e.data.directions)})).catch((function(e){return console.log(e)}))}),[]),r.a.createElement("div",{className:"container"},r.a.createElement(M,null,r.a.createElement("h3",null," Directions ")),c.map((function(e,a){var t=a+1;return r.a.createElement(M,null,r.a.createElement(X.a,{key:t,style:{width:"30rem"}},r.a.createElement(X.a.Title,null,r.a.createElement("img",{src:e.turnIcon}),e.narrative),r.a.createElement(X.a.Subtitle,null," ",e.streets," ")))})))},ve=function(){var e=Object(n.useState)(""),a=Object(d.a)(e,2),t=a[0],l=a[1],c=Object(n.useState)(!1),s=Object(d.a)(c,2),i=s[0],m=s[1],u=Object(n.useState)(null),p=Object(d.a)(u,2),E=p[0],v=p[1];return r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"row"},r.a.createElement("h1",{className:"col-12 text-center"}," Reset Your Password ")),r.a.createElement("div",{className:"row"},r.a.createElement("span",{className:"col-2"}),r.a.createElement(J.a,{onSubmit:function(e){e.preventDefault(),h.sendPasswordResetEmail(t).then((function(){m(!0),setTimeout((function(){m(!1)}),3e3)})).catch((function(){v("Error resetting password")}))},className:"col-8"},i&&r.a.createElement(J.a.Text,null,"An Email has been sent to you!"),null!==E&&r.a.createElement(J.a.Text,null,E),r.a.createElement(J.a.Group,null,r.a.createElement(J.a.Label,null,"Email:"),r.a.createElement(J.a.Control,{type:"email",name:"userEmail",id:"userEmail",value:t,placeholder:"Input your email",onChange:function(e){var a=e.currentTarget,t=a.name,n=a.value;"userEmail"===t&&l(n)},className:"mb-3 w-full px-1 py-2"})),r.a.createElement(Y.a,{variant:"primary",className:"btn-outline-secondary",type:"submit"},"Send me a reset link"))),r.a.createElement("div",{className:"row"},r.a.createElement("span",{className:"col-2"}),r.a.createElement("div",{className:"col-8"},r.a.createElement(o.b,{to:"/login"},r.a.createElement(J.a.Text,{className:"mt-2"},"\u2190 back to login page"))),r.a.createElement("span",{className:"col-2"})),r.a.createElement("span",{className:"col-2"}))},fe=t(46),ge=t(92);fe.b.add(ge.b,ge.a),Object(W.initDB)({name:"MyActivities",version:1,objectStoresMeta:[{store:"activity",storeConfig:{keyPath:"id",autoIncrement:!0},storeSchema:[{name:"activity",keypath:"activity",options:{unique:!1}},{name:"user",keypath:"user",options:{unique:!1}},{name:"name",keypath:"name",options:{unique:!1}},{name:"lat",keypath:"lat",options:{unique:!1}},{name:"lon",keypath:"lon",options:{unique:!1}},{name:"description",keypath:"description",options:{unique:!1}},{name:"reservable",keypath:"reservable",options:{unique:!1}},{name:"fee",keypath:"fee",options:{unique:!1}},{name:"phone",keypath:"phone",options:{unique:!1}},{name:"city",keypath:"city",options:{unique:!1}},{name:"start",keypath:"start",options:{unique:!1}},{name:"end",keypath:"end",options:{unique:!1}},{name:"summary",keypath:"summary",options:{unique:!1}},{name:"length",keypath:"length",options:{unique:!1}},{name:"difficulty",keypath:"difficulty",options:{unique:!1}},{name:"image",keypath:"image",options:{unique:!1}},{name:"url",keypath:"url",options:{unique:!1}},{name:"elevationChange",keypath:"elevationChange",options:{unique:!1}}]}]});var be=function(){return r.a.createElement(g,null,r.a.createElement(o.a,null,r.a.createElement("div",null,r.a.createElement(i,null),r.a.createElement(b,null),r.a.createElement(s.d,null,r.a.createElement(s.b,{path:"/",exact:!0,component:me}),r.a.createElement(s.b,{path:"/login"},r.a.createElement(Z,null)),r.a.createElement(s.b,{path:"/signup"},r.a.createElement(ue,null)),r.a.createElement(s.b,{path:"/itinerary",component:Ee}),r.a.createElement(s.b,{path:"/directions",component:he}),r.a.createElement(s.b,{path:"/passwordReset",component:ve})),r.a.createElement(y,null))))};c.a.render(r.a.createElement(be,null),document.getElementById("root"))}},[[115,1,2]]]);
//# sourceMappingURL=main.6a478ab3.chunk.js.map