{"version":3,"sources":["components/Header/index.js","components/Footer/index.js","components/Navbar/index.js","components/SearchResults/index.js","components/SearchContainer/index.js","base.js","utils/API.js","pages/Home.js","Auth.js","pages/Login.js","pages/SignUp.js","App.js","index.js"],"names":["Header","id","className","data-ride","data-target","data-slide-to","src","alt","href","role","data-slide","aria-hidden","Footer","Navbar","SearchResults","props","searched","campsites","SearchContainer","type","name","value","search","onChange","handleInputChange","placeholder","aria-label","onClick","handleFormSubmit","console","log","firebase","auth","app","initializeApp","apiKey","process","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","axios","get","uid","post","Home","useState","setSearch","setCampsites","signOut","then","window","location","catch","error","event","query","preventDefault","target","API","res","data","err","results","AuthContext","React","createContext","AuthProvider","children","currentUser","setCurrentUser","pending","setPending","useEffect","onAuthStateChanged","user","Provider","withRouter","history","handleLogin","useCallback","a","elements","email","password","signInWithEmailAndPassword","push","alert","useContext","to","onSubmit","handleSignUp","createUserWithEmailAndPassword","App","path","exact","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.7bbad4b3.chunk.js","sourcesContent":["import React from\"react\";\nimport \"./style.css\";\n\nfunction Header() {\n    return (\n        <div id=\"carouselExampleIndicators\" className=\"carousel slide\" data-ride=\"carousel\">\n            <ol className=\"carousel-indicators\">\n                <li data-target=\"#carouselExampleIndicators\" data-slide-to=\"0\" className=\"active\"></li>\n                <li data-target=\"#carouselExampleIndicators\" data-slide-to=\"1\"></li>\n                <li data-target=\"#carouselExampleIndicators\" data-slide-to=\"2\"></li>\n            </ol>\n            <div className=\"carousel-inner\">\n                <div className=\"carousel-item active\">\n                    <img src=\"./Assets/header1.jpg\" className=\"d-block w-100\" alt=\"...\" />\n                    <div className=\"carousel-content\">\n                        <h1> Weekend Getaway</h1>\n                    </div>\n                </div>\n                <div className=\"carousel-item\">\n                    <img src=\"./Assets/header2.jpg\" className=\"d-block w-100\" alt=\"...\" />\n                    <div className=\"carousel-content\">\n                        <h1> Weekend Getaway</h1>\n                    </div>\n                </div>\n                <div className=\"carousel-item\">\n                    <img src=\"./Assets/header3.jpg\" className=\"d-block w-100\" alt=\"...\" />\n                    <div className=\"carousel-content\">\n                        <h1> Weekend Getaway</h1>\n                    </div>\n                </div>\n            </div>\n            <a className=\"carousel-control-prev\" href=\"#carouselExampleIndicators\" role=\"button\" data-slide=\"prev\">\n                <span className=\"carousel-control-prev-icon\" aria-hidden=\"true\"></span>\n                <span className=\"sr-only\">Previous</span>\n            </a>\n            <a className=\"carousel-control-next\" href=\"#carouselExampleIndicators\" role=\"button\" data-slide=\"next\">\n                <span className=\"carousel-control-next-icon\" aria-hidden=\"true\"></span>\n                <span className=\"sr-only\">Next</span>\n            </a>\n        </div>\n\n    );\n}\n\nexport default Header;","import React from\"react\";\nimport \"./style.css\";\n\nfunction Footer() {\n    return (\n        <footer className=\"footer\">\n            <section>&#169; Copyright 2020 Weekend Getaway</section>\n        </footer>\n    );\n}\n\nexport default Footer;","import React from\"react\";\n\n\nfunction Navbar() {\n    return (\n        <div>\n            <h1>NavBar</h1>\n        </div>\n    );\n}\n\nexport default Navbar;","import React, { useState } from\"react\";\n\nfunction SearchResults(props) {\n    // console.log(props);\n\n    return (\n        <div>\n            <h3>Results for: {props.searched}</h3>\n\n            <p> Campsites {props.campsites} </p>\n        </div>\n    );\n}\n\nexport default SearchResults;","import React from\"react\";\n\nfunction SearchContainer(props) {\n    // console.log(props);\n    \n    return (\n        <form className=\"input-group mb-3\">\n            <input \n                type=\"text\" \n                className=\"form-control\" \n                name=\"search\"\n                value={props.search} \n                onChange={props.handleInputChange} \n                placeholder=\"location\" \n                aria-label=\"search by location\" \n            />\n            <div className=\"input-group-append\">\n                <button className=\"btn btn-outline-secondary\" type=\"submit\" onClick={props.handleFormSubmit} > Submit </button>\n            </div>\n        </form>\n    );\n}\n\nexport default SearchContainer;","import firebase from \"firebase/app\";\nimport \"firebase/auth\";\n\nconsole.log(firebase);\nconsole.log(firebase.auth);\n// For Firebase JS SDK v7.20.0 and later, measurementId is optional\n\nconst app = firebase.initializeApp({\n  apiKey: process.env.REACT_APP_FIREBASE_KEY,\n  authDomain: process.env.REACT_APP_FIREBASE_DOMAIN,\n  databaseURL: process.env.REACT_APP_FIREBASE_DATABASE,\n  projectId: process.env.REACT_APP_FIREBASE_PROJECT_ID,\n  storageBucket: process.env.REACT_APP_FIREBASE_STORAGE_BUCKET,\n  messagingSenderId: process.env.REACT_APP_FIREBASE_SENDER_ID,\n});\n\nexport const auth = firebase.auth();\nexport default app;\n","import axios from \"axios\";\n// eslint-disable-next-line import/no-anonymous-default-export\nexport default {\n  // Get campsites based on user input location\n  getCampsites: function(id) {\n    return axios.get(\"/api/campsites/\" + id);\n  },\n  getUid:function(uid){\n    console.log(\"UID is called\");\n    return axios.post(\"/api/history/\"+ uid);\n  }\n\n};","import React, {useState, useEffect, useCallback,useContext}from\"react\";\n// import Map from \"../components/Map\";\nimport Navbar from \"../components/Navbar\";\n// import { withRouter, Redirect } from \"react-router\";\nimport SearchResults from \"../components/SearchResults\";\nimport SearchContainer from \"../components/SearchContainer\";\nimport app from \"../base\";\n// import firebase from 'firebase';\n// import  {AuthContext} from \"../Auth.js\";\nimport API from \"../utils/API\";\n\n\nfunction Home(){\n    // initialize state variables\n    const [ search, setSearch ] = useState(\"\");\n    const [ campsites, setCampsites] = useState(\"\"); // just campsite name for now\n\n    // Mount initial info\n    // useEffect( () => {\n\n    // });\n\n    // Search API's base on  user input (campsite)\n    function searchCampsites(query) {\n        console.log(query);\n\n        API.getCampsites(query)\n            .then(res =>\n                setCampsites(res.data)\n            )\n            .catch(err => console.log(err));\n    }\n\n    const handleInputChange = event => {\n        event.preventDefault();\n        setSearch(event.target.value);\n    };\n    \n    const handleFormSubmit = event => {\n        event.preventDefault();\n        setSearch(event.target.value);\n        // console.log(search);\n\n        // send the searched term to the function\n        searchCampsites(search);\n\n        // clear the input form\n        // setSearch(\"\");\n    };\n\n    function signout(){\n        app.auth().signOut().then(function() {\n            \n            window.location=\"/login\"\n        }).catch(function(error) {\n            console.log(error)\n            // An error happened.\n        });\n    }\n\n\n    return (\n        <div>\n            <Navbar />\n\n            <div className=\"container\">\n                <div className=\"row\">\n                    <span className=\"col-10\"> </span>\n                    <div className=\"col-2\">\n                        <button className=\"btn btn-outline-secondary\" onClick={signout}>Sign out</button>\n                    </div>\n                </div>\n\n                <div className=\"row\">\n                    <section className=\"col-12\">\n                        <h3>Search: </h3>\n                        <SearchContainer \n                            handleFormSubmit={handleFormSubmit}\n                            handleInputChange={handleInputChange}\n                            results={search}\n                        />\n                        <hr />\n                    </section>\n                </div>\n\n                <div className=\"row\">\n                    <section className=\"col-12\">\n                        <SearchResults \n                            searched={search}\n                            results={campsites}\n                        />\n                    </section>\n\n                </div>\n            </div>\n\n        </div>\n    );\n}\n\nexport default Home;","import React, { useEffect, useState } from \"react\";\nimport app from \"./base.js\";\n\nexport const AuthContext = React.createContext();\n\nexport const AuthProvider = ({ children }) => {\n  const [currentUser, setCurrentUser] = useState(null);\n  const [pending, setPending] = useState(true);\n\n  useEffect(() => {\n    app.auth().onAuthStateChanged((user) => {\n      console.log(user);\n      setCurrentUser(user);\n      setPending(false);\n    });\n  }, []);\n\n  if (pending) {\n    return <>Loading...</>;\n  }\n\n  return (\n    <AuthContext.Provider\n      value={{\n        currentUser,\n      }}\n    >\n      {children}\n    </AuthContext.Provider>\n  );\n};\n","import React, { useCallback, useContext } from \"react\";\nimport { withRouter, Redirect } from \"react-router\";\nimport app from \"../base.js\";\nimport  {AuthContext} from \"../Auth.js\";\nimport API from \"../utils/API\"\n\nconst Login = ({ history }) => {\n    console.log(history)\n  const handleLogin = useCallback(\n    async event => {\n      event.preventDefault();\n      const { email, password } = event.target.elements;\n      try {\n        await app\n          .auth()\n          .signInWithEmailAndPassword(email.value, password.value);\n        history.push(\"/\");\n      } catch (error) {\n        alert(error);\n      }\n    },\n    [history]\n  );\n\n  const { currentUser } = useContext(AuthContext);\n\n  if (currentUser) {\n    const uid=app.auth().currentUser.uid;\n    API.getUid(uid);\n    return <Redirect to=\"/\" />;\n  }\n\n  return (\n    <div>\n      <h1>Log in</h1>\n      <form onSubmit={handleLogin}>\n        <label>\n          Email\n          <input name=\"email\" type=\"email\" placeholder=\"Email\" />\n        </label>\n        <label>\n          Password\n          <input name=\"password\" type=\"password\" placeholder=\"Password\" />\n        </label>\n        <button type=\"submit\">Log in</button>\n      </form>\n    </div>\n  );\n};\n\nexport default withRouter(Login);","import React, { useCallback } from \"react\";\nimport { withRouter } from \"react-router\";\nimport app from \"../base\";\n\nconst SignUp = ({ history }) => {\n  const handleSignUp = useCallback(async event => {\n    event.preventDefault();\n    const { email, password } = event.target.elements;\n    try {\n      await app\n        .auth()\n        .createUserWithEmailAndPassword(email.value, password.value);\n      history.push(\"/\");\n    } catch (error) {\n      alert(error);\n    }\n  }, [history]);\n\n  return (\n    <div>\n      <h1>Sign up</h1>\n      <form onSubmit={handleSignUp}>\n        <label>\n          Email\n          <input name=\"email\" type=\"email\" placeholder=\"Email\" />\n        </label>\n        <label>\n          Password\n          <input name=\"password\" type=\"password\" placeholder=\"Password\" />\n        </label>\n        <button type=\"submit\">Sign Up</button>\n      </form>\n    </div>\n  );\n};\n\nexport default withRouter(SignUp);","import React from\"react\";\nimport './App.css';\n\nimport {\n  BrowserRouter as Router,\n  Switch,\n  Link,\n  Route\n} from 'react-router-dom';\nimport Header from \"./components/Header\";\nimport Footer from \"./components/Footer\";\nimport Home from \"./pages/Home\";\nimport Login from \"./pages/Login\";\nimport SignUp from \"./pages/SignUp\"\nimport {AuthProvider} from \"./Auth\";\nimport PrivateRoute from \"./PrivateRoute\"\n\nfunction App() {\n  return (\n<AuthProvider>\n    <Router>\n      <div>\n        <Header />\n        <nav>\n          <ul>\n            <li>\n              <Link to=\"/\">Home</Link>\n            </li>\n            <li>\n              <Link to=\"/login\">Login</Link>\n            </li>\n            <li>\n              <Link to=\"/signup\">SignUp</Link>\n            </li>\n\n          </ul>\n        </nav>\n\n        <Switch>\n          <Route path=\"/\" exact>\n            <Home />\n          </Route>\n          <Route path=\"/login\">\n            <Login />\n          </Route>\n          <Route path=\"/signup\">\n            <SignUp />\n          </Route>\n        </Switch>\n        <Footer />\n      </div>\n    </Router>\n    </AuthProvider>\n    \n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport App from './App';\n\nReactDOM.render(<App />, document.getElementById('root'));"],"sourceRoot":""}